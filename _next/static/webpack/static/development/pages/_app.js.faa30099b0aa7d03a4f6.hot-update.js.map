{"version":3,"file":"static/webpack/static/development/pages/_app.js.faa30099b0aa7d03a4f6.hot-update.js","sources":["webpack:///./components/navigator/index.js"],"sourcesContent":["import React from 'react';\nimport Link from 'next/link';\nimport { withRouter } from 'next/router';\nimport global from 'data/global';\nimport menus from 'data/menu';\nimport styles from './navigator.less';\n\nclass Navigator extends React.Component {\n  state = {\n    scrollTop: 0,\n  };\n\n  setPreferAndReload = prefer => {\n    try {\n      const maxAgeSeconds = 60 * 60 * 24 * 30; // 30 天\n      document.cookie = `site_prefer=${prefer}; path=/; max-age=${maxAgeSeconds}`;\n    } catch (e) {}\n    if (typeof window !== 'undefined') {\n      window.location.reload();\n    }\n  };\n\n  componentDidMount() {\n    window.addEventListener('scroll', this.scroll, false);\n    this.scroll();\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('scroll', this.scroll);\n  }\n\n  scroll = () => {\n    this.setState({\n      scrollTop: document.documentElement.scrollTop || document.body.scrollTop,\n    });\n  };\n\n  render() {\n    const { router } = this.props;\n    const { scrollTop } = this.state;\n    const { route } = router;\n    const isWhite = ['/detail'].includes(route) || scrollTop > 50;\n\n    return (\n      <div id=\"header\" className={`${styles.navigator} ${isWhite && styles.notTop}`}>\n        <Link href=\"/\">\n          <div className={styles.logo}>\n            <img\n              className={styles.tdlLogo}\n              src={require('@/static/images/logo-footer.png')}\n              alt=\"\"\n            ></img>\n            <span className={styles.sub}>{global.companyDesc}</span>\n          </div>\n        </Link>\n        <div className={styles.menus}>\n          {menus.map(item => {\n            const active =\n              item.path === router.pathname ||\n              (item.relation && item.relation.includes(router.pathname));\n            return (\n              <Link key={item.path} href={item.path}>\n                <a className={active ? styles.active : styles.notActive}>{item.text}</a>\n              </Link>\n            );\n          })}\n        </div>\n        <a\n          className={styles.switch}\n          onClick={() => this.setPreferAndReload('mobile')}\n          role=\"button\"\n        >\n          切换到手机版\n        </a>\n        <a className={styles.phone} href={`tel:${global.companyPhone}`}>\n          <i className=\"iconfont icondianhua\" />\n          {global.companyPhone}\n        </a>\n      </div>\n    );\n  }\n}\n\nexport default withRouter(Navigator);\n"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAYA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAZA;AACA;AACA;AAAA;AAAA;AAAA;AAGA;AACA;AAAA;AAAA;AAAA;AAQA;AACA;AACA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAGA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAGA;;;;A","sourceRoot":""}